/* styles.css - Heart formation + stars + floating hearts + letter styles */

:root{
  --cream: #f4e8d6;
  --accent: #ff2a6d;
  --bg: #000;
  --gray-heart: #2f2f2f;
  --black-heart: #0b0b0b;
}

*{box-sizing:border-box;margin:0;padding:0}
html,body{height:100%}
body{
  background: radial-gradient(ellipse at center, rgba(255,255,255,0.02) 0%, transparent 40%), var(--bg);
  overflow:hidden;
  font-family: Inter, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
  -webkit-font-smoothing:antialiased;
  -moz-osx-font-smoothing:grayscale;
}

/* Container for WebGL */
#three-container{
  position:fixed;
  inset:0;
  z-index:1;
}

/* Stars layer: CSS-generated dots (perf ok for modern devices) */
.stars{
  position:fixed;
  inset:0;
  z-index:0;
  pointer-events:none;
  background-image:
    radial-gradient(circle at 10% 20%, rgba(255,255,255,0.9) 1px, transparent 1px),
    radial-gradient(circle at 40% 70%, rgba(255,255,255,0.7) 1px, transparent 1px),
    radial-gradient(circle at 60% 30%, rgba(255,255,255,0.65) 1px, transparent 1px),
    radial-gradient(circle at 85% 80%, rgba(255,255,255,0.55) 1px, transparent 1px);
  background-size: 100% 100%;
  filter: blur(.2px);
  opacity: .9;
}

/* subtle animated twinkles (generated by pseudo elements) */
.stars::after{
  content: '';
  position:absolute;
  inset:0;
  background:
    radial-gradient(circle at 20% 30%, rgba(255,255,255,0.08), transparent 2%),
    radial-gradient(circle at 75% 60%, rgba(255,255,255,0.06), transparent 2%),
    radial-gradient(circle at 50% 10%, rgba(255,255,255,0.05), transparent 3%);
  animation: starPulse 6s infinite ease-in-out;
}
@keyframes starPulse {
  0%{opacity:.85}
  50%{opacity:1}
  100%{opacity:.85}
}

/* DOM letters (cream) flying around then locking in place */
.letter {
  position:fixed;
  z-index: 8;
  font-weight: 800;
  color: var(--cream);
  text-shadow: 0 1px 0 rgba(0,0,0,0.3), 0 6px 18px rgba(0,0,0,0.5);
  font-size: clamp(16px, 2.6vw, 34px);
  pointer-events: none;
  will-change: transform, opacity;
  transform-origin: center center;
  opacity: 0;
}

/* Progress UI (small and subtle) */
.progress {
  position: fixed;
  bottom: 28px;
  left: 50%;
  transform: translateX(-50%);
  width: 300px;
  height: 8px;
  background: rgba(255,255,255,0.05);
  border-radius: 10px;
  overflow: hidden;
  z-index: 12;
}
.progress > i {
  display:block;
  height:100%;
  width:0%;
  background: linear-gradient(90deg, rgba(244,232,214,1), rgba(255,215,180,0.9));
  transition: width .3s linear;
}

/* Floating hearts from bottom (馃┒馃枻) */
.floating-layer{
  position:fixed; inset:0; pointer-events:none; z-index:5;
}
.float-heart {
  position:fixed;
  bottom:-40px;
  font-size: clamp(12px, 2.2vw, 28px);
  opacity:0.9;
  will-change: transform, opacity;
  filter: drop-shadow(0 8px 12px rgba(0,0,0,0.6));
  animation: rise linear forwards;
}
@keyframes rise {
  0%{transform: translateY(0) scale(.9); opacity:0}
  15%{opacity:0.9}
  100%{transform: translateY(-140vh) scale(1.05); opacity:0}
}

/* completion glow overlay used when heart forms */
.heart-glow {
  position:fixed;
  inset:0;
  z-index:9;
  pointer-events:none;
  mix-blend-mode: screen;
  opacity:0;
  transition: opacity .6s ease;
}

/* small UI hints */
.hint {
  position:fixed;
  top:18px;
  width:100%;
  text-align:center;
  color:var(--cream);
  z-index:12;
  font-weight:600;
  text-transform:uppercase;
  letter-spacing:2px;
  font-size:12px;
  opacity:0.7;
}

/* Make sure canvas takes device pixel ratio correctly */
canvas { display:block; width:100%; height:100% }

/* Responsive safe areas */
@media (max-width:600px){
  .progress{ width:220px }
}